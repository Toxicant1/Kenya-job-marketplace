<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KaziLink Kenya | Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Your CSS Variables and Reset */
        :root {
            --primary: #0052cc;
            --primary-dark: #003d99;
            --secondary: #ff7a00;
            --bg: #f4f7fb;
            --card: #ffffff;
            --text: #172b4d;
            --muted: #6b778c;
            --radius: 16px;
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --success: #28a745;
        }

        body.dark {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #e5e7eb;
            --muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Inter, system-ui, sans-serif; }
        body { background: var(--bg); color: var(--text); transition: background 0.3s, color 0.3s; }

        /* Navigation */
        .navbar { position: sticky; top: 0; z-index: 1000; background: var(--card); box-shadow: var(--shadow); padding: 16px 6%; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.6rem; font-weight: 900; color: var(--primary); cursor: pointer; }
        .logo span { color: var(--text); }
        .nav-actions { display: flex; gap: 10px; align-items: center; }

        /* Buttons */
        button { cursor: pointer; border: none; transition: 0.2s; }
        .btn-primary { background: var(--primary); color: white; padding: 10px 22px; border-radius: 999px; font-weight: 600; }
        .btn-secondary { background: transparent; color: var(--primary); font-weight: 600; }
        .icon-btn { background: transparent; font-size: 1.2rem; color: var(--primary); }

        /* Hero & Search */
        .hero { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; text-align: center; padding: 90px 20px; }
        .search-box { max-width: 420px; margin: 35px auto -130px; background: var(--card); padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; flex-direction: column; gap: 12px; position: relative; z-index: 10; }
        .search-box input { padding: 12px; border-radius: 10px; border: 1px solid #ddd; outline: none; }

        /* Sections */
        .section { padding: 150px 6% 60px; }
        .section-title { font-size: 1.3rem; font-weight: 800; margin-bottom: 25px; border-left: 5px solid var(--primary); padding-left: 10px; }

        /* Job Cards */
        .job-card { background: var(--card); padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 20px; transition: transform 0.25s; }
        .job-card:hover { transform: translateY(-4px); }
        .job-actions { margin-top: 15px; display: flex; gap: 10px; }
        
        /* Dashboard Specifics */
        .hidden { display: none !important; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .stat-card { background: var(--card); padding: 30px; border-radius: var(--radius); box-shadow: var(--shadow); text-align: center; }
        .money { font-size: 2rem; font-weight: 800; color: var(--success); margin: 10px 0; }
        
        .withdraw-section { background: var(--card); padding: 30px; border-radius: var(--radius); margin-top: 30px; box-shadow: var(--shadow); }
        .method-btn { width: 100%; padding: 15px; margin-top: 10px; border-radius: 10px; font-weight: 700; color: white; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .btn-mpesa { background: #4caf50; }
        .btn-paypal { background: #0070ba; }

        /* Modal */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; z-index: 2000; }
        .modal-content { background: var(--card); padding: 30px; width: 90%; max-width: 450px; border-radius: 20px; position: relative; }
        .close-btn { position: absolute; right: 20px; top: 15px; cursor: pointer; font-size: 1.5rem; }
    </style>
</head>
<body>

<nav class="navbar">
    <div class="logo" onclick="showHome()">Kazi<span>Link</span></div>
    <div class="nav-actions" id="nav-actions">
        <button class="icon-btn" onclick="toggleDark()"><i class="fas fa-moon"></i></button>
        <button class="btn-secondary" onclick="openAuth()">Log In</button>
        <button class="btn-primary" onclick="openAuth()">Join</button>
    </div>
</nav>

<div id="home-view">
    <header class="hero">
        <h1>Find Your Next Career Move</h1>
        <p>Browse thousands of jobs in Kenya</p>
        <div class="search-box">
            <input type="text" id="jobInput" placeholder="Job title or keywords">
            <button class="btn-primary" onclick="searchJobs()">Search Jobs</button>
        </div>
    </header>

    <main class="section">
        <h2 class="section-title">Latest Opportunities</h2>
        <div id="jobContainer">
            </div>
    </main>
</div>

<div id="dashboard-view" class="section hidden" style="padding-top: 40px;">
    <h2 class="section-title">User Dashboard</h2>
    <div class="dashboard-grid">
        <div class="stat-card">
            <p>Available Balance</p>
            <div class="money">KES 4,500.00</div>
            <p style="font-size: 0.8rem; color: var(--muted);">Ready for withdrawal</p>
        </div>
        <div class="stat-card">
            <p>Jobs Applied</p>
            <div class="money" style="color: var(--primary);">12</div>
            <p style="font-size: 0.8rem; color: var(--muted);">3 Pending Review</p>
        </div>
    </div>

    <div class="withdraw-section">
        <h3>Withdraw Your Earnings</h3>
        <p style="margin-bottom: 15px; color: var(--muted);">Select your payment method:</p>
        <button class="method-btn btn-mpesa" onclick="triggerWithdraw('M-Pesa')">
            <i class="fas fa-mobile-alt"></i> M-Pesa
        </button>
        <button class="method-btn btn-paypal" onclick="triggerWithdraw('PayPal')">
            <i class="fab fa-paypal"></i> PayPal
        </button>
    </div>
</div>

<div class="modal" id="uiModal">
    <div class="modal-content" id="modalContent">
        </div>
</div>

<footer>
    <p>© 2025 KaziLink Kenya. All rights reserved.</p>
</footer>

<script>
    const jobData = [
        { id: 1, title: "Graphic Designer", company: "Canvas Co", location: "Nairobi", salary: "KES 45k", desc: "We need a creative designer with 2 years experience in Adobe Suite." },
        { id: 2, title: "Sales Agent", company: "Zuku Fiber", location: "Mombasa", salary: "Commission Based", desc: "Passionate sales people needed for door-to-door outreach." },
        { id: 3, title: "Data Analyst", company: "TechSafi", location: "Remote", salary: "KES 80k", desc: "Proficiency in SQL and Python required for our data team." }
    ];

    // Initialize Jobs
    function renderJobs(list) {
        const container = document.getElementById('jobContainer');
        container.innerHTML = list.map(job => `
            <div class="job-card">
                <h3>${job.title}</h3>
                <p><i class="fas fa-building"></i> ${job.company} • <i class="fas fa-map-marker-alt"></i> ${job.location}</p>
                <p style="color:var(--primary); font-weight:700; margin-top:5px;">${job.salary}</p>
                <div class="job-actions">
                    <button class="btn-primary" onclick="viewJob(${job.id})">View Details</button>
                    <button class="btn-secondary" style="border: 1px solid #ddd; border-radius:10px;">Save</button>
                </div>
            </div>
        `).join('');
    }

    // Search Logic
    function searchJobs() {
        const term = document.getElementById('jobInput').value.toLowerCase();
        const filtered = jobData.filter(j => j.title.toLowerCase().includes(term));
        renderJobs(filtered);
    }

    // Modal Controller
    function viewJob(id) {
        const job = jobData.find(j => j.id === id);
        const modal = document.getElementById('uiModal');
        document.getElementById('modalContent').innerHTML = `
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>${job.title}</h2>
            <p style="color:var(--muted)">${job.company} | ${job.location}</p>
            <hr style="margin:15px 0; opacity:0.1">
            <p>${job.desc}</p>
            <button class="btn-primary" style="width:100%; margin-top:20px;" onclick="alert('Applied!')">Apply for this Job</button>
        `;
        modal.style.display = 'flex';
    }

    // Auth & Dashboard Logic
    function openAuth() {
        const modal = document.getElementById('uiModal');
        document.getElementById('modalContent').innerHTML = `
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3>Welcome to KaziLink</h3>
            <input type="email" placeholder="Email Address" style="width:100%; padding:12px; margin:15px 0; border-radius:10px; border:1px solid #ddd;">
            <button class="btn-primary" style="width:100%" onclick="goToDashboard()">Log In / Sign Up</button>
        `;
        modal.style.display = 'flex';
    }

    function goToDashboard() {
        closeModal();
        document.getElementById('home-view').classList.add('hidden');
        document.getElementById('dashboard-view').classList.remove('hidden');
        document.getElementById('nav-actions').innerHTML = `
            <button class="icon-btn" onclick="toggleDark()"><i class="fas fa-moon"></i></button>
            <span style="font-weight:700;">Hi, User!</span>
            <button class="btn-secondary" onclick="showHome()">Logout</button>
        `;
    }

    function showHome() {
        location.reload(); // Quickest way to reset the view
    }

    function triggerWithdraw(method) {
        alert(`Redirecting to ${method} secure gateway for withdrawal...`);
    }

    function closeModal() { document.getElementById('uiModal').style.display = 'none'; }
    function toggleDark() { document.body.classList.toggle('dark'); }

    // Initial Load
    renderJobs(jobData);
</script>
</body>
</html>
